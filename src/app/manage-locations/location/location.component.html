<li class="pl-1 bg-gradient-to-b from-primary-red to-primary-dark-purple rounded-lg border-2 border-secondary-purple-light w-full mb-2">
  <div *ngIf="!location.isEdit; else edit" class="flex w-full justify-between bg-white rounded-md p-4">
    <p class="min-w-[100px]">{{ location.name }}</p>
    <p class="min-w-[100px]">{{ location.type }}</p>
    <p class="min-w-[100px]">{{ location.wing.floor.building.name }}</p>
    <p class="min-w-[100px]">{{ location.wing.floor.number }}.{{ location.wing.name }}</p>
    <p class="min-w-[100px]">{{ location.capacity }}</p>
    <p class="min-w-[100px]">{{ location.createdAt | date:'shortDate' }}</p>
    <div class="flex space-x-5 ">
      <button (click)="location.isEdit = true">
        <lucide-icon name="pencil" title="bewerken"></lucide-icon>
      </button>
      <button (click)="deletionDialog.show()">
        <lucide-icon name="trash-2" title="verwijderen"></lucide-icon>
      </button>
    </div>
  </div>

  <ng-template #edit>
    <form [formGroup]="locationForm" (ngSubmit)="onSubmitForm()" class="flex w-full justify-between bg-white rounded-md p-4">
      <input type="text" id="locationName" formControlName="locationName" class="w-[100px]">
      <select name="locationType" id="locationType"
        formControlName="locationType" class="w-[100px]">
          <option *ngFor="let type of locationTypes" [ngValue]="type">{{ type }}</option>
      </select>
      <p class="min-w-[100px]">{{ location.wing.floor.building.name }}</p>
      <select name="wing" id="wing" formControlName="wing" class="w-[100px]" >
        <option [ngValue]="location.wing">{{ location.wing.floor.number }}.{{ location.wing.name }}</option>
        <option *ngFor="let wing of wings" [ngValue]="wing">{{ wing.floor.number }}.{{ wing.name }}</option>
      </select>
      <input type="number" id="capacity" formControlName="capacity" class="w-[100px]">
      <p class="w-[100px]">{{ location.createdAt | date:'shortDate' }}</p>
      <div class="flex space-x-5 ">
        <button type="submit" id="save">
          <lucide-icon name="save" title="Opslaan"></lucide-icon>
        </button>
        <button id="cancel" class="text-primary-red" (click)="location.isEdit = false">
          <lucide-icon name="x" title="Annuleren"></lucide-icon>
        </button>
      </div>
    </form>
  </ng-template>
</li>

<dialog #deletionDialog class="w-1/3 h-1/3 bg-white rounded-lg border-2 border-black absolute top-1/3 p-4 shadow-md">
  <div class="flex flex-col items-center space-y-4">
    <button (click)="deletionDialog.close()" class="self-end">
      <lucide-icon name="x" label="close"></lucide-icon>
    </button>
    <div class="flex flex-col items-center space-y-10">
      <div class="flex flex-col items-center space-y-2">
        <p>Weet je zeker dat je de locatie wilt verwijderen?</p>
      </div>
      <div class="flex space-x-4">
        <button class="rounded-lg p-2 text-white bg-primary-red" (click)="onDelete()">Verwijder</button>
        <button class="border-2 border-secondary-purple-light rounded-lg p-2" (click)="deletionDialog.close()">Annuleer</button>
      </div>
    </div>
  </div>
</dialog>


